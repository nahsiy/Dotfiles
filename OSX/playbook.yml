---
- hosts: localhost
  become: true
  collections:
    - community.general

  tasks:
    - name: Install required brew packages
      community.general.homebrew:
        name: "{{ item }}"
        state: present
      loop:
        - wezterm
        - vim
        - ccze
        - git
        - tmux
        - zsh
        - zsh-autosuggestions
        - zsh-completions
        - zsh-syntax-highlighting
        - eza
        - fzf

    - name: Install required fonts
      community.general.homebrew:
        name: "{{ item }}"
        state: present
      loop:
        - fontconfig
        - font-fira-code-nerd-font
        - font-go-mono-nerd-font
        - font-hack-nerd-font
        - font-jetbrains-mono-nerd-font
        - font-meslo-lg-nerd-font
        - font-monaspace-nerd-font
        - font-noto-sans-symbols-2
        - font-sf-mono-nerd-font-ligaturized

    - name: Copy WezTerm config
      copy:
        src: files/wezterm.lua
        dest: ~/.config/wezterm.lua
        mode: 0644

    - name: Copy Tmux config
      copy:
        src: files/tmux.conf
        dest: ~/.tmux.conf
        mode: 0644

    - name: Copy Starship config
      copy:
        src: files/starship.toml
        dest: ~/.starship.toml
        mode: 0644

    - name: Copy Vim config
      copy:
        src: files/vimrc
        dest: ~/.vimrc
        mode: 0644